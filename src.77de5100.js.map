{"version":3,"sources":["fps.ts","shaders.ts","index.ts"],"names":[],"mappings":"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","file":"src.77de5100.js","sourceRoot":"..\\src","sourcesContent":["var lastTime = new Date()\r\nvar lastFps: string\r\nvar frames = 0\r\n\r\nexport function getFPS() {\r\n    frames++\r\n    var thisTime = new Date()\r\n    const msec = thisTime.getTime() - lastTime.getTime()\r\n    if (msec >= 1000) {\r\n        lastFps = Math.round(frames * 1000 / msec) + ' fps'\r\n        lastTime = thisTime\r\n        frames = 0\r\n    }\r\n    return lastFps\r\n}","import { gl } from \"./index\"\r\n\r\nfunction compileShader(shaderSource: string, shaderType: GLuint) {\r\n    // Create the shader object\r\n    var shader = gl.createShader(shaderType)!;\r\n\r\n    // Set the shader source code.\r\n    gl.shaderSource(shader, shaderSource);\r\n\r\n    // Compile the shader\r\n    gl.compileShader(shader);\r\n\r\n    // Check if it compiled\r\n    var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n    if (!success) {\r\n        // Something went wrong during compilation; get the error\r\n        throw gl.getShaderInfoLog(shader);\r\n    }\r\n\r\n    return shader;\r\n}\r\n\r\nasync function createShaderFromScript(scriptId: string, opt_shaderType: GLuint) {\r\n    var x = await fetch(scriptId)\r\n    var shaderSource = await x.text()\r\n    try {\r\n        return compileShader(shaderSource, opt_shaderType)\r\n    } catch (e) {\r\n        console.error('compile error', scriptId, e)\r\n        return 0;\r\n    }\r\n};\r\n\r\nfunction createProgram(vertexShader: WebGLShader, fragmentShader: WebGLShader) {\r\n    if (!vertexShader || !fragmentShader) return\r\n\r\n    // create a program.\r\n    var program = gl.createProgram()!;\r\n\r\n    // attach the shaders.\r\n    gl.attachShader(program, vertexShader);\r\n    gl.attachShader(program, fragmentShader);\r\n\r\n    // link the program.\r\n    gl.linkProgram(program);\r\n\r\n    // Check if it linked.\r\n    var success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n    if (!success) {\r\n        // something went wrong with the link\r\n        console.error(\"program failed to link:\" + gl.getProgramInfoLog(program));\r\n    }\r\n\r\n    return program;\r\n};\r\n\r\nexport async function createProgramFromScripts(shaderScriptId: string) {\r\n    var vertexShader = await createShaderFromScript(shaderScriptId+'.vert', gl.VERTEX_SHADER);\r\n    var fragmentShader = await createShaderFromScript(shaderScriptId+'.frag', gl.FRAGMENT_SHADER);\r\n    return createProgram(vertexShader, fragmentShader);\r\n}","import { getFPS } from './fps';\r\nimport { createProgramFromScripts } from './shaders'\r\n\r\nexport var gl: WebGL2RenderingContext\r\n\r\nconst torusDetail = 160;\r\n\r\nconst uniforms: {\r\n    slices?: WebGLUniformLocation\r\n    torusDetail?: WebGLUniformLocation\r\n    rotation?: WebGLUniformLocation\r\n    aspectRatio?: WebGLUniformLocation\r\n} = {}\r\n\r\nlet paused = true\r\nlet wireframe = false\r\nlet passes = 32*1\r\nlet rotation = 99*1\r\n\r\nwindow.onload = async () => {\r\n    document.addEventListener('keydown', onKeyDown)\r\n    const canvas = document.querySelector(\"#glCanvas\") as HTMLCanvasElement\r\n    gl = canvas!.getContext(\"webgl2\")!\r\n    if (gl === null) {\r\n        alert(\"Unable to initialize WebGL. Your browser or machine may not support it.\")\r\n        return\r\n    }\r\n    const image = new Image();\r\n    image.crossOrigin = 'anonymous'\r\n    image.src = \"https://upload.wikimedia.org/wikipedia/commons/9/9a/512x512_Dissolve_Noise_Texture.png\"\r\n    image.addEventListener('load', function () {\r\n        const texture = gl.createTexture()\r\n        gl.bindTexture(gl.TEXTURE_2D, texture)\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image)\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n        window.requestAnimationFrame(step)\r\n    });\r\n    createProgramFromScripts('shader').then( function(program) {\r\n        if (!program) return\r\n        gl.useProgram(program)\r\n        uniforms.slices = gl.getUniformLocation(program, 'slices')!\r\n        uniforms.torusDetail = gl.getUniformLocation(program, 'torusDetail')!\r\n        uniforms.rotation = gl.getUniformLocation(program, 'rotation')!\r\n        uniforms.aspectRatio = gl.getUniformLocation(program, 'aspectRatio')!\r\n    } )\r\n    gl.clearColor(0.3, 0.3, 0.5, 1.0)\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.enable(gl.BLEND)\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\r\n}\r\n\r\nfunction step() {\r\n    const fps = document.querySelector(\"#fps\") as HTMLSpanElement\r\n    const fpsText = getFPS()\r\n    fps.textContent = paused ? 'Paused' : fpsText\r\n    const sizeSpan = document.querySelector(\"#size\") as HTMLSpanElement;\r\n    sizeSpan.textContent = 'Passes: ' + passes\r\n    const canvas = document.querySelector(\"#glCanvas\") as HTMLCanvasElement;\r\n    resizeCanvasToDisplaySize(canvas)\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\r\n    gl.uniform1f(uniforms.slices!, passes)\r\n    gl.uniform1i(uniforms.torusDetail!, torusDetail)\r\n    gl.uniform1f(uniforms.rotation!, rotation * 1e-2)\r\n    gl.uniform1f(uniforms.aspectRatio!, canvas.width / canvas.height)\r\n    gl.drawArraysInstanced(wireframe ? gl.LINE_STRIP : gl.TRIANGLE_STRIP, 0, torusDetail * torusDetail * 6, passes + 1)\r\n    if (paused) return\r\n    window.requestAnimationFrame(step);\r\n}\r\n\r\nfunction onKeyDown(e: KeyboardEvent) {\r\n    switch (e.key) {\r\n        case ' ':\r\n            paused = !paused\r\n            if (!paused) window.requestAnimationFrame(step)\r\n            break\r\n        case 'w':\r\n            wireframe = !wireframe;\r\n            break\r\n        case 'ArrowUp':\r\n            if(passes>0)\r\n                passes *= 2\r\n            else\r\n                passes=1\r\n            break\r\n        case 'ArrowDown':\r\n            if (passes > 1)\r\n                passes /= 2\r\n            else\r\n                passes=0\r\n            break\r\n        case 'ArrowLeft':\r\n            rotation++\r\n            break\r\n        case 'ArrowRight':\r\n            rotation--\r\n            break\r\n        case 'F1':\r\n            alert(`Press SPACE to toggle FPS benchmark\r\nW to toggle wireframe\r\nArrow UP/DOWN to change number of passes\r\nArrow LEFT/RIGHT to rotate\r\n`)\r\n            break\r\n        default:\r\n            //console.log(e)\r\n    }\r\n    if (paused) window.requestAnimationFrame(step);\r\n}\r\n\r\nfunction resizeCanvasToDisplaySize(canvas: HTMLCanvasElement) {\r\n    const dpr = window.devicePixelRatio;\r\n    const { width, height } = canvas.getBoundingClientRect();\r\n    const displayWidth = Math.round(width * dpr);\r\n    const displayHeight = Math.round(height * dpr);\r\n\r\n    // Check if the canvas is not the same size.\r\n    const needResize = canvas.width != displayWidth ||\r\n        canvas.height != displayHeight;\r\n\r\n    if (needResize) {\r\n        // Make the canvas the same size\r\n        canvas.width = displayWidth;\r\n        canvas.height = displayHeight;\r\n        gl.viewport(0, 0, displayWidth, displayHeight)\r\n    }\r\n\r\n    return needResize;\r\n}"]}